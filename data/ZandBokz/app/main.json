{
  "meta" : {
    "description" : "Zandbokz entry point Nos falta guardar SysTime en DEFAULT (common resource)"
  },
  "literals" : {
    "window_title":"Zandbokz",
    "state.static" : 0,
    "ZERO" : 0,
    "ZEROF" : 0.0,
    "width" : 1024,
    "height": 768,
    "testwflags": 0,
    "testrflags": 0,
    "timeEventId" : 1,
    "mainInitialState" : 0,
    "mainExitState" : 1,
    "loadScreen.toMenu": 1,
    "loadScreen.loadTime" : 262144
  },
  "phases":[
      {
      "description" : "Loading initial lists and high priority structures (window).",
      "factories" : [
        {
          "factory": "TFAECAnimSprtFtry",
          "description" : "do some serious sheet",
          "name": "loadScreen.drawList",
          "config" : {}
        },
        {
          "factory" : "SDLWindowFtry",
          "name" : "zandbokz.mainwindow",
          "config" : {
            "title" : "window_title",
            "x" : "ZERO",
            "y" : "ZERO",
            "w" : "width",
            "h" : "height",
            "wflags":"testwflags",
            "rflags":"testrflags"
          }
        }]
      },
      {
      "description" : "Creating resource loaders.",
      "factories" : [
        {
          "factory": "JSONImgDefLoaderFtry",
          "name":"zandbokz.JSONImgDefLoader",
          "config" : {}
        },
        {
          "factory": "SDLImgLoaderFtry",
          "name":"zandbokz.SDLJSONImgLoader",
          "config" : {
            "window" : "zandbokz.mainwindow",
            "imgdef" : "zandbokz.JSONImgDefLoader"
          }
        },
        {
          "factory": "JSONMultiSprtSheetLoaderFtry",
          "name":"zandbokz.mssLoader",
          "config" : {}
        }
      ]
    },
    {
      "description" : "Loading images.",
      "factories" : [
        {
          "factory": "RsrcFtry",
          "name":"zandbokz.imgLoader",
          "config" : {
            "loader" : "zandbokz.SDLJSONImgLoader",
            "url" : "data/ZandBokz/img"
          }
        }
      ]
    },
    {
      "description" : "Loading sprite sheets.",
      "factories" : [
        {
          "factory": "RsrcFtry",
          "name":"zandbokz.sprtSheetLoader",
          "config" : {
            "loader" : "zandbokz.mssLoader",
            "url" : "data/ZandBokz/sprtsheet"
          }
        }
      ]
    },
    {
      "description" : "Loading load screen...",
      "factories" : [
        {"factory": "MasterDmnFtry",
          "name": "Main",
          "config" : {
            "daemons": [
              "zandbokz.MainLoop"
            ]
          }
        },
        {"factory": "MainLoopFtry",
          "name": "zandbokz.MainLoop",
          "config" : {
            "preDaemon":"loadScreen.PreDaemon",
            "preDaemonDesc":"done",
            "eventDaemon":"loadScreen.eventGenerator",
            "eventDaemonDesc":"done",
            "commonDaemon":"DEFAULT",
            "commonDaemonDesc":"nada?vacio?",
            "reactDaemon":"DEFAULT",
            "reactDaemonDesc":"si hay evento de tiempo: se llama al exit... pero esto lo hace el eventStore.manage(): que esto se queda vacio",
            "drawDaemon":"loadScreen.drawDaemon",
            "drawDaemonDesc":"Pues a pintar la pantalla de carga",
            "postDaemon":"loadScreen.PostDaemon",
            "postDaemonDesc":"Hacer cosas de sdl",
            "contextTime":"DEFAULT",
            "contextTimeDesc":"el systime"
          }
        },
        {
          "factory" : "ValueIFtry",
          "name" : "zandbokz.loadState",
          "config" : {
            "value" : "mainInitialState"
          }
        },
        {"factory": "SDLSysTimeFtry",
          "name": "loadScreen.SDLSysTime",
          "config" : {}
        },
        {"factory": "BasicPreLoopSDLDaemonFtry",
          "name": "loadScreen.PreDaemon",
          "config" : {
            "window" : "zandbokz.mainwindow"
          }
        },
        {"factory": "BasicPostLoopSDLDaemonFtry",
          "name": "loadScreen.PostDaemon",
          "config" : {
            "window" : "zandbokz.mainwindow"
          }
        },
        {"factory": "TimeEventGnFtry",
          "name": "loadScreen.eventGenerator",
          "config" : {
            "eventId" : "timeEventId",
            "contextTime" : "DEFAULT"
          }
        },
        {"factory": "MainLoopExitFtry",
          "name": "loadScreen.exitDaemon",
          "config" : {
            "mainloop" : "zandbokz.MainLoop",
            "valueHolder" : "zandbokz.loadState",
            "outValue" : "mainExitState"
          }
        },
        {"factory": "DaemonTimeHandlerFtry",
          "name": "loadScreen.exitHandler",
          "config" : {
            "generator" : "loadScreen.eventGenerator",
            "time" : "loadScreen.loadTime",
            "dmn" : "loadScreen.exitDaemon"
          }
        },
        {"factory": "SpriteSheetSDLDrawerFtry",
          "name": "loadScreen.screenDrawer",
          "description" : "comportamiento que pintara la pantalla. Faltan tipos",
          "config" : {
            "window" : "zandbokz.mainwindow"
          }
        },
        {"factory": "DrawerAnimSprtFtry",
          "name": "loadScreen.drawDaemon",
          "description" : "demonio que pintara la pantalla. Faltan tipos",
          "config" : {
            "list" : "loadScreen.drawList",
            "behavior" : "loadScreen.screenDrawer"
          }
        },
        {"factory": "SpriteAvtFtry",
          "name": "loadScreen.bgEnt",
          "config" : {
            "entity" : "ruben curra",
            "attribIndexes" : ["TODO", "Crear constantes con los indices"],
            "lists":[{"loadScreen.drawList":"TODO dale un nombre a idx del ticket"}]
          }
        }
      ]
    }
  ]
}
